<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>GPS Macro Global - Estabilizado</title>
    <!-- Importa칞칚o do Chart.js via CDN Confi치vel -->
    <script src="https://cdn.jsdelivr.net"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', sans-serif; background: #020617; color: #f8fafc; padding: 20px; }
        .container { max-width: 1100px; margin: 0 auto; }
        
        /* Layout Header */
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; border-bottom: 1px solid #1e293b; padding-bottom: 10px; }
        #relogio { font-family: monospace; font-size: 1.4rem; color: #60a5fa; }

        /* Tabela e Cards */
        .macro-table { width: 100%; border-collapse: collapse; background: #0f172a; border-radius: 12px; margin-bottom: 20px; border: 1px solid #1e293b; overflow: hidden; }
        .macro-table td { padding: 12px; border-top: 1px solid #1e293b; font-size: 0.9rem; }
        .up { color: #10b981; font-weight: bold; }
        .down { color: #ef4444; font-weight: bold; }

        /* Container do Gr치fico - CR칈TICO PARA FUNCIONAR */
        .chart-box { 
            background: #0f172a; 
            border-radius: 12px; 
            padding: 20px; 
            border: 2px solid #1e293b; 
            height: 450px; 
            width: 100%;
            position: relative; /* Necess치rio para o Chart.js */
        }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1>游늵 GPS GLOBAL (01:00 맙 00:00)</h1>
        <div id="relogio">00:00:00</div>
    </div>

    <!-- Tabela Macro 2026 -->
    <table class="macro-table">
        <tbody>
            <tr><td>Petr칩leo Brent (Energia)</td><td class="up">US$ 64.06</td><td>Positivo Petrobras</td></tr>
            <tr><td>Min칠rio de Ferro (Vale)</td><td class="down">US$ 107.15</td><td>Baixa Demanda China</td></tr>
            <tr><td>D칩lar Global (DXY)</td><td class="up">103.45</td><td>Fluxo para Seguran칞a</td></tr>
        </tbody>
    </table>

    <!-- 츼REA DO GR츼FICO -->
    <div class="chart-box">
        <canvas id="meuGrafico"></canvas>
    </div>
</div>

<script>
    // 1. GERAR AS 24 HORAS (Labels)
    const horas = [];
    for (let i = 1; i <= 24; i++) {
        let h = i === 24 ? "00" : (i < 10 ? "0" + i : i);
        horas.push(h + ":00");
    }

    // 2. DADOS (24 pontos exatos para evitar erro de sumi칞o)
    const dadosRisco = [0.1, 0.12, 0.15, 0.1, 0.05, 0, -0.05, 0.05, 0.15, 0.25, 0.35, 0.45, 0.5, 0.48, 0.42, 0.45, 0.52, 0.55, 0.5, 0.45, 0.4, 0.35, 0.3, 0.25];
    const dadosSeg   = [0.05, 0.04, 0.02, 0.05, 0.1, 0.15, 0.2, 0.15, 0.05, -0.05, -0.1, -0.15, -0.2, -0.18, -0.15, -0.12, -0.1, -0.05, 0, 0.05, 0.1, 0.08, 0.05, 0.02];

    // 3. FUN칂츾O DE INICIALIZA칂츾O DO GR츼FICO
    function iniciarGrafico() {
        const ctx = document.getElementById('meuGrafico');
        
        if (!ctx) {
            console.error("Canvas n칚o encontrado!");
            return;
        }

        new Chart(ctx, {
            type: 'line',
            data: {
                labels: horas,
                datasets: [
                    {
                        label: 'Ativos de Risco (Compra)',
                        data: dadosRisco,
                        borderColor: '#10b981',
                        backgroundColor: 'rgba(16, 185, 129, 0.1)',
                        fill: true,
                        tension: 0.4
                    },
                    {
                        label: 'Ativos de Seguran칞a (Venda)',
                        data: dadosSeg,
                        borderColor: '#ef4444',
                        backgroundColor: 'rgba(239, 68, 68, 0.1)',
                        fill: true,
                        tension: 0.4
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { labels: { color: '#f8fafc', font: { size: 14 } } }
                },
                scales: {
                    x: { grid: { color: '#1e293b' }, ticks: { color: '#94a3b8' } },
                    y: { grid: { color: '#1e293b' }, ticks: { color: '#94a3b8' } }
                }
            }
        });
    }

    // 4. GARANTIR QUE RODE AP칍S CARREGAR TUDO
    window.addEventListener('load', () => {
        iniciarGrafico();
        
        // Rel칩gio de Bras칤lia
        setInterval(() => {
            const agora = new Date();
            document.getElementById('relogio').innerText = agora.toLocaleTimeString('pt-BR');
        }, 1000);
    });
</script>

</body>
</html>
