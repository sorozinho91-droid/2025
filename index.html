<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Macro Tend√™ncia Pro - Real-Time</title>
    <!-- Importando Chart.js via CDN -->
    <script src="https://cdn.jsdelivr.net"></script>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background-color: #121212; color: #fff; margin: 0; padding: 20px; }
        .dashboard-container { max-width: 1200px; margin: auto; }
        .card-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 20px; }
        .card { background: #1e1e1e; padding: 20px; border-radius: 12px; border: 1px solid #333; }
        .full-width-chart { margin-top: 20px; background: #1e1e1e; padding: 20px; border-radius: 12px; height: 350px; }
        h1, h2 { margin-top: 0; font-size: 1.2rem; color: #bbb; }
        #last-updated { color: #00d1b2; font-weight: bold; }
        canvas { max-width: 100%; }
    </style>
</head>
<body>

<div class="dashboard-container">
    <div class="header">
        <h1>üìä Macro Tend√™ncia Dashboard <small id="last-updated"></small></h1>
    </div>

    <div class="card-grid">
        <!-- Gr√°fico de Pizza: Distribui√ß√£o de Risco -->
        <div class="card">
            <h2>Risco do Mercado</h2>
            <canvas id="riskChart"></canvas>
        </div>

        <!-- Gr√°fico de Rosca: Seguran√ßa -->
        <div class="card">
            <h2>M√©tricas de Seguran√ßa</h2>
            <canvas id="securityChart"></canvas>
        </div>

        <!-- Barras: For√ßa da Tend√™ncia -->
        <div class="card">
            <h2>For√ßa da Tend√™ncia (D√≥lar)</h2>
            <canvas id="trendChart"></canvas>
        </div>
    </div>
    
    <div class="full-width-chart">
        <h2>Hist√≥rico da Tend√™ncia Global</h2>
        <canvas id="lineChart"></canvas>
    </div>
</div>

<script>
    // Configura√ß√µes Globais dos Gr√°ficos
    const ctxRisk = document.getElementById('riskChart').getContext('2d');
    const ctxSec = document.getElementById('securityChart').getContext('2d');
    const ctxTrend = document.getElementById('trendChart').getContext('2d');
    const ctxLine = document.getElementById('lineChart').getContext('2d');

    // 1. Gr√°fico de Risco (Pizza)
    const riskChart = new Chart(ctxRisk, {
        type: 'pie',
        data: {
            labels: ['Alta', 'Neutra', 'Baixa'],
            datasets: [{ data: [60, 25, 15], backgroundColor: ['#ff4757', '#ffa502', '#2ed573'] }]
        },
        options: { responsive: true, plugins: { legend: { position: 'bottom' } } }
    });

    // 2. Gr√°fico de Seguran√ßa (Doughnut)
    const securityChart = new Chart(ctxSec, {
        type: 'doughnut',
        data: {
            labels: ['Seguro', 'Moderado', 'Inst√°vel'],
            datasets: [{ data: [10, 30, 60], backgroundColor: ['#2ed573', '#ffa502', '#ff4757'] }]
        },
        options: { cutout: '70%' }
    });

    // 3. Gr√°fico de Tend√™ncia (Barra)
    const trendChart = new Chart(ctxTrend, {
        type: 'bar',
        data: {
            labels: ['D√≥lar', 'Euro', 'Ouro'],
            datasets: [{ label: '% For√ßa', data: [12, 45, 80], backgroundColor: '#00d1b2' }]
        }
    });

    // 4. Gr√°fico de Linha (Hist√≥rico)
    const lineChart = new Chart(ctxLine, {
        type: 'line',
        data: {
            labels: ['10:00', '10:05', '10:10', '10:15', '10:20'],
            datasets: [{
                label: '√çndice Global',
                data: [65, 59, 80, 81, 56],
                borderColor: '#00d1b2',
                tension: 0.4,
                fill: true,
                backgroundColor: 'rgba(0, 209, 178, 0.1)'
            }]
        },
        options: { maintainAspectRatio: false }
    });

    // Fun√ß√£o para simular atualiza√ß√£o em tempo real
    function updateDashboard() {
        const now = new Date().toLocaleTimeString();
        document.getElementById('last-updated').textContent = `‚Ä¢ Atualizado: ${now}`;

        // Atualiza dados aleat√≥rios
        riskChart.data.datasets[0].data = [Math.random()*100, Math.random()*50, Math.random()*20];
        riskChart.update();

        lineChart.data.datasets[0].data.push(Math.random() * 100);
        lineChart.data.datasets[0].data.shift();
        lineChart.update();
    }

    setInterval(updateDashboard, 3000);
</script>

</body>
</html>
