<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Ativos de Risco x Segurança</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            text-align: center;
        }
        #grafico {
            width: 100%;
            height: 80vh; /* ajusta automaticamente ao tamanho da tela */
        }
    </style>
</head>
<body>

<h2>Ativos de Risco x Ativos de Segurança</h2>
<div id="grafico"></div>

<script>
    // Dados simulados
    var tempo = [];
    var risco = [];
    var seguro = [];

    var valorRisco = 100;
    var valorSeguro = 100;

    function atualizar(valor) {
        return Math.max(0, valor + (Math.random() - 0.5) * 3);
    }

    var traceRisco = {
        x: tempo,
        y: risco,
        type: 'scatter',
        mode: 'lines',
        name: 'Ativos de Risco',
        line: { color: 'red' }
    };

    var traceSeguro = {
        x: tempo,
        y: seguro,
        type: 'scatter',
        mode: 'lines',
        name: 'Ativos de Segurança',
        line: { color: 'green' }
    };

    var layout = {
        title: 'Comparação: Risco x Segurança',
        xaxis: { title: 'Tempo' },
        yaxis: { title: 'Valor' },
        margin: { t: 50, l: 50, r: 30, b: 50 }
    };

    Plotly.newPlot(
        'grafico',
        [traceRisco, traceSeguro],
        layout,
        { responsive: true }
    );

    // Atualização em tempo real
    setInterval(function () {
        var agora = new Date().toLocaleTimeString();

        valorRisco = atualizar(valorRisco);
        valorSeguro = atualizar(valorSeguro);

        Plotly.extendTraces('grafico', {
            x: [[agora], [agora]],
            y: [[valorRisco], [valorSeguro]]
        }, [0, 1], 50); // mantém últimos 50 pontos
    }, 2000);
</script>

</body>
</html>
