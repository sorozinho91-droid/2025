<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Terminal Macro TendÃªncia - V2</title>
    <script src="https://cdn.jsdelivr.net"></script>
    <style>
        :root {
            --bg: #0f172a; --card: #1e293b; --accent: #38bdf8;
            --bull: #22c55e; --bear: #ef4444; --neutral: #94a3b8;
        }
        body { font-family: 'Inter', sans-serif; background-color: var(--bg); color: white; margin: 0; padding: 20px; }
        .dashboard-container { max-width: 1200px; margin: auto; }
        
        /* Header Estilo Terminal */
        .header { display: flex; justify-content: space-between; align-items: center; padding: 15px; border-bottom: 2px solid var(--card); }
        .live-tag { background: var(--bear); padding: 4px 12px; border-radius: 20px; font-size: 0.8rem; animation: pulse 2s infinite; }
        
        .main-grid { display: grid; grid-template-columns: 1fr 2fr; gap: 20px; margin-top: 20px; }
        
        .card { background: var(--card); padding: 25px; border-radius: 16px; box-shadow: 0 10px 15px -3px rgba(0,0,0,0.3); }
        
        /* Indicador de DecisÃ£o */
        .decision-box { text-align: center; display: flex; flex-direction: column; justify-content: center; }
        .signal-text { font-size: 2.5rem; font-weight: 800; margin: 10px 0; text-transform: uppercase; }
        .score-circle { font-size: 1.2rem; color: var(--accent); }

        .chart-container { height: 300px; width: 100%; margin-top: 15px; }

        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }
    </style>
</head>
<body>

<div class="dashboard-container">
    <div class="header">
        <div>
            <h1 style="margin:0; font-size: 1.5rem;">ðŸ“Š Terminal de TendÃªncia Global</h1>
            <small id="last-updated" style="color: var(--neutral)">Sincronizando...</small>
        </div>
        <div class="live-tag">LIVE MARKET</div>
    </div>

    <div class="main-grid">
        <!-- Lado Esquerdo: Sinal de DecisÃ£o -->
        <div class="card decision-box">
            <h2 style="color: var(--neutral); font-size: 0.9rem;">SENTIMENTO DO MOMENTO</h2>
            <div id="signal" class="signal-text">ANALISANDO</div>
            <div class="score-circle">ForÃ§a: <span id="power-val">0</span>%</div>
            <div style="height: 150px; margin-top: 20px;">
                <canvas id="gaugeChart"></canvas>
            </div>
        </div>

        <!-- Lado Direito: HistÃ³rico de ForÃ§a -->
        <div class="card">
            <h2 style="color: var(--neutral); font-size: 0.9rem;">VOLATILIDADE DA TENDÃŠNCIA (5M)</h2>
            <div class="chart-container">
                <canvas id="mainChart"></canvas>
            </div>
        </div>
    </div>
</div>

<script>
    // ConfiguraÃ§Ã£o do GrÃ¡fico de Linha (HistÃ³rico)
    const ctxMain = document.getElementById('mainChart').getContext('2d');
    const mainChart = new Chart(ctxMain, {
        type: 'line',
        data: {
            labels: Array(20).fill(''),
            datasets: [{
                label: 'Ãndice de ForÃ§a',
                data: Array(20).fill(50),
                borderColor: '#38bdf8',
                backgroundColor: 'rgba(56, 189, 248, 0.1)',
                fill: true,
                tension: 0.4,
                pointRadius: 0
            }]
        },
        options: { 
            responsive: true, 
            maintainAspectRatio: false,
            scales: { y: { grid: { color: '#334155' }, border: {display: false} }, x: { display: false } },
            plugins: { legend: { display: false } }
        }
    });

    // GrÃ¡fico de Gauge (Semi-CÃ­rculo)
    const ctxGauge = document.getElementById('gaugeChart').getContext('2d');
    const gaugeChart = new Chart(ctxGauge, {
        type: 'doughnut',
        data: {
            datasets: [{
                data: [50, 50],
                backgroundColor: ['#38bdf8', '#334155'],
                borderWidth: 0,
                circumference: 180,
                rotation: 270
            }]
        },
        options: { cutout: '80%', plugins: { tooltip: {enabled: false} } }
    });

    function update() {
        const val = Math.floor(Math.random() * 100);
        const signalEl = document.getElementById('signal');
        const powerEl = document.getElementById('power-val');
        
        // LÃ³gica de DecisÃ£o Visual
        if(val > 65) {
            signalEl.innerText = "COMPRA";
            signalEl.style.color = "#22c55e";
            gaugeChart.data.datasets[0].backgroundColor[0] = "#22c55e";
        } else if (val < 35) {
            signalEl.innerText = "VENDA";
            signalEl.style.color = "#ef4444";
            gaugeChart.data.datasets[0].backgroundColor[0] = "#ef4444";
        } else {
            signalEl.innerText = "NEUTRO";
            signalEl.style.color = "#94a3b8";
            gaugeChart.data.datasets[0].backgroundColor[0] = "#38bdf8";
        }

        powerEl.innerText = val;
        document.getElementById('last-updated').innerText = "Ãšltimo tick: " + new Date().toLocaleTimeString();

        // Atualiza Gauge
        gaugeChart.data.datasets[0].data = [val, 100 - val];
        gaugeChart.update();

        // Atualiza HistÃ³rico
        mainChart.data.datasets[0].data.push(val);
        mainChart.data.datasets[0].data.shift();
        mainChart.update();
    }

    setInterval(update, 3000);
    update();
</script>
</body>
</html>
