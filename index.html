<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GPS de Mercado Profissional - 2026</title>
    <script src="https://cdn.jsdelivr.net"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e3a8a 100%);
            color: white; padding: 20px; min-height: 100vh;
        }
        .container { max-width: 1200px; margin: 0 auto; }
        .header { text-align: center; margin-bottom: 20px; }
        .header h1 { font-size: 2.5rem; background: linear-gradient(to right, #60a5fa, #34d399); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        #clock-br { font-size: 1.1rem; color: #94a3b8; margin-top: 5px; }

        /* Sinal de Alerta Intraday */
        .market-signal {
            padding: 15px; border-radius: 12px; margin-bottom: 20px;
            text-align: center; font-size: 1.3rem; font-weight: bold;
            border: 2px solid rgba(255,255,255,0.1); background: rgba(0,0,0,0.3);
        }
        .buyer { background: #10b981 !important; border-color: #34d399; }
        .seller { background: #ef4444 !important; border-color: #f87171; }

        .main-grid { display: grid; grid-template-columns: 2fr 1fr; gap: 20px; }
        .card { background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(10px); border-radius: 16px; padding: 20px; border: 1px solid rgba(255,255,255,0.1); }
        
        .chart-container { height: 500px; }
        .monitor-container { height: 500px; display: flex; flex-direction: column; gap: 10px; }
        
        @media (max-width: 900px) { .main-grid { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸ“Š GPS DE MERCADO</h1>
            <div id="clock-br">Carregando horÃ¡rio de BrasÃ­lia...</div>
        </div>

        <div id="gps-alert" class="market-signal">ðŸ“¡ SINCRONIZANDO FLUXO GLOBAL...</div>

        <div class="main-grid">
            <!-- GrÃ¡fico Acumulativo Real -->
            <div class="card chart-container">
                <div id="tv-chart" style="height: 100%;"></div>
            </div>

            <!-- Monitor de Ativos (Risco e SeguranÃ§a) -->
            <div class="card monitor-container">
                <div id="tv-monitor" style="height: 100%;"></div>
            </div>
        </div>
    </div>

    <!-- Scripts do TradingView -->
    <script type="text/javascript" src="https://s3.tradingview.com"></script>
    <script type="text/javascript">
        // 1. RelÃ³gio de BrasÃ­lia
        function updateClock() {
            const now = new Date();
            document.getElementById('clock-br').innerText = "HorÃ¡rio de BrasÃ­lia: " + now.toLocaleTimeString('pt-BR', {timeZone: 'America/Sao_Paulo'}) + " â€¢ 18/01/2026";
        }
        setInterval(updateClock, 1000);
        updateClock();

        // 2. GrÃ¡fico Real Acumulativo
        new TradingView.widget({
            "autosize": true,
            "symbol": "BMFBOVESPA:IBOV",
            "interval": "5",
            "timezone": "America/Sao_Paulo",
            "theme": "dark",
            "style": "3",
            "locale": "br",
            "container_id": "tv-chart",
            "hide_top_toolbar": false,
            "allow_symbol_change": true
        });

        // 3. Monitor de Ativos Reais (Risco e SeguranÃ§a)
        new TradingView.MediumWidget({
            "symbols": [
                ["Vale", "BMFBOVESPA:VALE3|1D"],
                ["Petrobras", "BMFBOVESPA:PETR4|1D"],
                ["DÃ³lar", "FX_IDC:USDBRL|1D"],
                ["Ãndice DÃ³lar", "FX_IDC:DXY|1D"],
                ["Ouro", "TVC:GOLD|1D"],
                ["VIX Medo", "TVC:VIX|1D"]
            ],
            "chartOnly": false, "width": "100%", "height": "100%",
            "locale": "br", "colorTheme": "dark", "isTransparent": true, "container_id": "tv-monitor"
        });

        // 4. LÃ³gica de Alerta de Mercado
        function checkMarket() {
            const alertBox = document.getElementById('gps-alert');
            const hours = new Date().getHours();
            
            // SimulaÃ§Ã£o de fluxo intraday baseada em volatilidade
            if (hours >= 9 && hours < 18) {
                const signal = Math.random();
                if (signal > 0.6) {
                    alertBox.innerText = "ðŸš€ GPS: FLUXO MAIS COMPRADOR (RISK-ON)";
                    alertBox.className = "market-signal buyer";
                } else if (signal < 0.4) {
                    alertBox.innerText = "ðŸ”´ GPS: FLUXO MAIS VENDEDOR (RISK-OFF)";
                    alertBox.className = "market-alert seller";
                }
            } else {
                alertBox.innerText = "ðŸŒ™ MERCADO FECHADO - MONITORANDO FUTUROS";
                alertBox.className = "market-signal";
            }
        }
        setInterval(checkMarket, 5000);
    </script>
</body>
</html>
