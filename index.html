<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>GPS MACRO 24H - 2026</title>
    <!-- Carregamento da biblioteca de grÃ¡ficos -->
    <script src="https://cdnjs.cloudflare.com"></script>
    <style>
        body { background: #06090f; color: white; font-family: sans-serif; margin: 0; padding: 20px; text-align: center; }
        .container { max-width: 1000px; margin: auto; background: #131722; padding: 20px; border-radius: 15px; border: 1px solid #2a2e39; }
        #relogio { font-size: 3rem; font-weight: bold; color: #00ff88; font-family: monospace; margin: 10px 0; }
        .status { padding: 15px; margin: 15px 0; border-radius: 8px; font-weight: bold; background: #1e222d; border: 1px solid #363c4e; }
        .chart-box { height: 400px; width: 100%; margin-top: 20px; }
        .cards { display: flex; gap: 15px; justify-content: center; margin-bottom: 20px; }
        .card { flex: 1; padding: 15px; background: #1e222d; border-radius: 10px; border: 1px solid #363c4e; }
        .val-risco { color: #34d399; font-size: 1.5rem; font-weight: bold; }
        .val-seg { color: #ef4444; font-size: 1.5rem; font-weight: bold; }
    </style>
</head>
<body>

    <div class="container">
        <h1>ðŸ“Š GPS GLOBAL 24H</h1>
        <div id="relogio">00:00:00</div>
        <p style="color: #848e9c;">Monitoramento 24h â€¢ HorÃ¡rio de BrasÃ­lia</p>

        <div class="status" id="sentimento">Sincronizando Fluxo...</div>

        <div class="cards">
            <div class="card">
                <div>RISCO (Risk-On)</div>
                <div id="vRisco" class="val-risco">0.00%</div>
            </div>
            <div class="card">
                <div>SEGURANÃ‡A (Risk-Off)</div>
                <div id="vSeg" class="val-seg">0.00%</div>
            </div>
        </div>

        <div class="chart-box">
            <canvas id="meuGrafico"></canvas>
        </div>
    </div>

    <script>
        // --- 1. RELÃ“GIO INFALÃVEL ---
        function atualizarRelogio() {
            const agora = new Date();
            const horas = String(agora.getHours()).padStart(2, '0');
            const minutos = String(agora.getMinutes()).padStart(2, '0');
            const segundos = String(agora.getSeconds()).padStart(2, '0');
            document.getElementById('relogio').textContent = `${horas}:${minutos}:${segundos}`;
        }
        setInterval(atualizarRelogio, 1000);
        atualizarRelogio();

        // --- 2. GRÃFICO COM HISTÃ“RICO 60s ---
        let chart;
        let vR = 0;
        let vS = 0;

        function initChart() {
            const ctx = document.getElementById('meuGrafico').getContext('2d');
            chart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: [],
                    datasets: [
                        { label: 'RISCO', data: [], borderColor: '#34d399', tension: 0.3, pointRadius: 0 },
                        { label: 'SEGURANÃ‡A', data: [], borderColor: '#ef4444', tension: 0.3, pointRadius: 0 }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: { grid: { color: '#2a2e39' } },
                        x: { grid: { display: false } }
                    },
                    plugins: { legend: { labels: { color: 'white' } } }
                }
            });
        }

        // --- 3. SIMULAÃ‡ÃƒO DE DADOS (24 HORAS) ---
        function atualizarDados() {
            vR += (Math.random() - 0.5) * 0.2;
            vS += (Math.random() - 0.5) * 0.2;

            document.getElementById('vRisco').textContent = vR.toFixed(2) + '%';
            document.getElementById('vSeg').textContent = vS.toFixed(2) + '%';

            const agora = new Date();
            const timeStr = agora.getHours() + ":" + String(agora.getMinutes()).padStart(2, '0');

            // Adiciona ao histÃ³rico do grÃ¡fico
            chart.data.labels.push(timeStr);
            chart.data.datasets[0].data.push(vR);
            chart.data.datasets[1].data.push(vS);

            // MantÃ©m apenas os Ãºltimos 60 minutos visÃ­veis
            if (chart.data.labels.length > 60) {
                chart.data.labels.shift();
                chart.data.datasets[0].data.shift();
                chart.data.datasets[1].data.shift();
            }

            chart.update();

            // LÃ³gica de Alerta
            const s = document.getElementById('sentimento');
            if (vR > vS + 0.2) {
                s.textContent = "ðŸŸ¢ RISK-ON: Mercado favorece ativos de RISCO";
                s.style.color = "#34d399";
            } else if (vS > vR + 0.2) {
                s.textContent = "ðŸ”´ RISK-OFF: Mercado busca SEGURANÃ‡A";
                s.style.color = "#ef4444";
            } else {
                s.textContent = "ðŸŸ¡ NEUTRO: Mercado sem direÃ§Ã£o clara";
                s.style.color = "#848e9c";
            }
        }

        // Inicia tudo
        window.onload = () => {
            initChart();
            atualizarDados();
            setInterval(atualizarDados, 60000); // Atualiza o histÃ³rico a cada 60 segundos
        };
    </script>
</body>
</html>
