<!-- BREAKING NEWS -->
<div id="breaking">
  <div class="breaking-header">üö® BREAKING NEWS</div>
  <div id="breaking-list">
    <div class="breaking-item">Aguardando not√≠cias...</div>
  </div>
</div>

<style>
/* BREAKING NEWS MODERNO */
#breaking{
  background:#111827;
  color:#fff;
  border-radius:8px;
  box-shadow:0 4px 12px rgba(0,0,0,.3);
  overflow:hidden;
}

.breaking-header{
  background:#b91c1c;
  padding:10px;
  font-weight:bold;
  text-align:center;
  font-size:16px;
}

#breaking-list{
  max-height:220px;
  overflow-y:auto;
  font-size:14px;
  padding:6px;
}

.breaking-item{
  background:#1f2937;
  margin:6px 0;
  padding:10px;
  border-radius:6px;
  transition: transform 0.2s, background 0.3s;
}
.breaking-item:hover{
  transform:translateX(5px);
  background:#374151;
}
.breaking-item a{
  color:#60a5fa;
  text-decoration:none;
  font-weight:500;
}

.breaking-item.alerta{
  border-left:4px solid #f87171;
  background:#7f1d1d;
  animation:pulse 1.5s infinite;
}

@keyframes pulse{
  0%,100%{opacity:1;}
  50%{opacity:0.7;}
}
</style>

<script>
// Palavras-chave de impacto para mercado brasileiro
const palavrasImpacto = ["b3","ibovespa","juros","selic","bolsa","infla√ß√£o","recess√£o","economia brasil","crise","investimento"];

// Fun√ß√£o atualizar breaking news
async function buscarBreaking(){
  const rss="https://news.google.com/rss/search?q=b3+OR+ibovespa+OR+economia+brasil+OR+infla√ß√£o+OR+juros&hl=pt-BR&gl=BR&ceid=BR:pt";
  const url="https://api.allorigins.win/raw?url="+encodeURIComponent(rss);
  const res = await fetch(url);
  const text = await res.text();
  const xml = new DOMParser().parseFromString(text,"text/xml");
  const items = xml.querySelectorAll("item");
  breakingList.innerHTML="";
  
  let count=0;
  items.forEach(item=>{
    if(count>=5) return;
    const titulo=item.querySelector("title").textContent;
    const link=item.querySelector("link").textContent;

    // Filtra apenas not√≠cias de impacto no mercado brasileiro
    if(palavrasImpacto.some(p=>titulo.toLowerCase().includes(p))){
      const div=document.createElement("div");
      div.className="breaking-item";
      // Se tiver palavras negativas, adiciona alerta visual
      if(["queda","crise","recess√£o","alta de juros","infla√ß√£o"].some(n=>titulo.toLowerCase().includes(n))){
        div.classList.add("alerta");
        som.play().catch(()=>{});
      }
      div.innerHTML=`<strong>${titulo}</strong><br><a href="${link}" target="_blank">Ler</a>`;
      breakingList.appendChild(div);
      count++;
    }
  });

  // Se n√£o houver not√≠cias, mostra mensagem
  if(breakingList.children.length===0){
    breakingList.innerHTML='<div class="breaking-item">Nenhuma not√≠cia relevante no momento...</div>';
  }
}
buscarBreaking();
setInterval(buscarBreaking,30000);
</script>
