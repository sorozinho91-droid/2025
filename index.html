<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Painel Intraday + Cota√ß√µes em Tempo Real</title>
<style>
  body { font-family: Arial, sans-serif; margin: 20px; }
  .panel { display: flex; gap: 20px; margin-bottom: 20px; }
  .panel div { padding: 12px; border-radius: 8px; background: #f5f5f5; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }
  .panel h3 { margin: 0 0 6px; font-size: 16px; }
  .value { font-size: 24px; font-weight: bold; }
  .change { font-size: 14px; }
</style>
</head>
<body>

<div class="panel">
  <div id="oilPanel">
    <h3>Petr√≥leo (WTI)</h3>
    <div class="value" id="oilPrice">--</div>
    <div class="change" id="oilChange">--</div>
  </div>
  <div id="dxyPanel">
    <h3>√çndice DXY</h3>
    <div class="value" id="dxyPrice">--</div>
    <div class="change" id="dxyChange">--</div>
  </div>
  <div id="ironPanel">
    <h3>Min√©rio de Ferro</h3>
    <div class="value" id="ironPrice">--</div>
    <div class="change" id="ironChange">--</div>
  </div>
</div>

<!-- Aqui entra seu gr√°fico intraday -->
<canvas id="intradayChart"></canvas>

<script>
async function fetchOilData() {
  try {
    // üëâ Substitua pelo seu endpoint real de pre√ßo de petr√≥leo
    const res = await fetch('https://api.oilpriceapi.com/v1/prices/latest?by_code=WTI_USD', {
      headers: { 'Authorization': 'Token YOUR_API_KEY' }
    });
    const json = await res.json();
    const price = json.data.price.toFixed(2);
    document.getElementById('oilPrice').innerText = `$${price}`;

    // Se voc√™ tiver pre√ßo anterior, calcule varia√ß√£o percentual
    // Exemplo fict√≠cio:
    const prev = json.data.price - 0.5;
    const pct = (((price - prev) / prev) * 100).toFixed(2);
    document.getElementById('oilChange').innerText = `${pct}%`;
  } catch (err) {
    console.error('Erro fetching oil data', err);
  }
}

async function fetchDXY() {
  try {
    // üëâ Substitua pelo servi√ßo/endpoint que retornar DXY (requisi√ß√£o de broker ou finance API)
    const res = await fetch('https://your-dxy-api.example.com/dxy');
    const json = await res.json();
    document.getElementById('dxyPrice').innerText = json.price.toFixed(2);
    document.getElementById('dxyChange').innerText = `${json.change_pct.toFixed(2)}%`;
  } catch (err) {
    console.error('Erro fetching DXY', err);
  }
}

async function fetchIronOre() {
  try {
    // üëâ Substitua pelo endpoint real de min√©rio de ferro
    const res = await fetch('https://metalpriceapi.com/symbol/iron-ore?api_key=YOUR_API_KEY');
    const json = await res.json();
    document.getElementById('ironPrice').innerText = json.price.toFixed(2);
    document.getElementById('ironChange').innerText = `${json.change_pct.toFixed(2)}%`;
  } catch (err) {
    console.error('Erro fetching iron ore', err);
  }
}

function refreshQuotes() {
  fetchOilData();
  fetchDXY();
  fetchIronOre();
}

// Atualiza o painel a cada 60s
refreshQuotes();
setInterval(refreshQuotes, 60000);
</script>
</body>
</html>
