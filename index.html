<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GPS Market Sentiment PRO - 2026</title>
    <script src="https://cdn.jsdelivr.net"></script>
    <style>
        :root {
            --bg: #020617;
            --card: #0f172a;
            --risk: #22c55e;
            --safety: #ef4444;
            --text: #f8fafc;
            --border: #1e293b;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Consolas', monospace; background: var(--bg); color: var(--text); padding: 15px; }
        .container { max-width: 1600px; margin: 0 auto; }
        
        .header { display: flex; justify-content: space-between; align-items: center; background: var(--card); padding: 15px 25px; border-radius: 8px; margin-bottom: 15px; border: 1px solid var(--border); }
        #relogio { font-size: 2.2rem; font-weight: bold; color: #3b82f6; }

        .alerts-container { margin-bottom: 15px; display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .alert-box { padding: 15px; border-radius: 8px; font-weight: bold; text-align: center; border: 1px solid transparent; }
        .alert-bullish { background: rgba(34, 197, 94, 0.2); color: var(--risk); border-color: var(--risk); }
        .alert-bearish { background: rgba(239, 68, 68, 0.2); color: var(--safety); border-color: var(--safety); }
        .alert-neutral { background: rgba(59, 130, 246, 0.2); color: #3b82f6; border-color: #3b82f6; }

        .top-stats { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px; }
        .stat-card { background: var(--card); padding: 25px; border-radius: 8px; text-align: center; border-bottom: 5px solid #334155; }
        .stat-card.risk { border-color: var(--risk); }
        .stat-card.safety { border-color: var(--safety); }
        .val { font-size: 3rem; font-weight: 800; display: block; }

        .chart-box { background: var(--card); padding: 20px; border-radius: 8px; height: 450px; margin-bottom: 15px; border: 1px solid var(--border); position: relative; }
        canvas { width: 100% !important; height: 100% !important; }

        .assets-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 15px; }
        .asset-list { background: var(--card); padding: 20px; border-radius: 8px; height: 350px; overflow-y: auto; border: 1px solid var(--border); }
        .item { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #1e293b; font-size: 0.85rem; }
        .tag { font-weight: bold; padding: 2px 8px; border-radius: 4px; font-size: 0.7rem; }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <div>
            <h1 style="font-size: 1.4rem; color: #94a3b8; letter-spacing: 1px;">GPS SENTIMENT GLOBAL v2026</h1>
            <p>Monitoramento Intraday (01:00h - 18:00h)</p>
        </div>
        <div id="relogio">--:--:--</div>
    </div>

    <div class="alerts-container">
        <div class="alert-box alert-neutral" id="alertaGlobal">SINAL GLOBAL: PROCESSANDO...</div>
        <div class="alert-box alert-neutral" id="alertaDomestico">SINAL LOCAL: PROCESSANDO...</div>
    </div>

    <div class="top-stats">
        <div class="stat-card risk">
            <span style="color: var(--risk); font-weight: bold;">RISCO ACUMULADO (WIN â–²)</span>
            <span class="val" id="vRisco">0.00%</span>
        </div>
        <div class="stat-card safety">
            <span style="color: var(--safety); font-weight: bold;">SEGURANÃ‡A ACUMULADA (WIN â–¼)</span>
            <span class="val" id="vSeg">0.00%</span>
        </div>
    </div>

    <div class="chart-box">
        <canvas id="canvasChart"></canvas>
    </div>

    <div class="assets-grid">
        <div class="asset-list">
            <h3 style="color: var(--risk); border-bottom: 2px solid var(--risk); padding-bottom: 5px; margin-bottom: 10px;">ðŸŸ¢ ATIVOS DE RISCO</h3>
            <div id="lRisco"></div>
        </div>
        <div class="asset-list">
            <h3 style="color: var(--safety); border-bottom: 2px solid var(--safety); padding-bottom: 5px; margin-bottom: 10px;">ðŸ”´ ATIVOS DE SEGURANÃ‡A</h3>
            <div id="lSeg"></div>
        </div>
    </div>
</div>

<script>
    let chart;
    let acumuladoRisco = 0;
    let acumuladoSeg = 0;

    const ativosRisco = ["S&P 500 Fut", "Nasdaq Fut", "EWZ (Brasil NY)", "VALE3 ADR", "PETR4 ADR", "MinÃ©rio Ferro", "Brent", "Cobre", "Bitcoin", "DAX", "EEM", "Nikkei 225", "Ibovespa", "Hang Seng", "Ethereum"];
    const ativosSeg = ["DXY Index", "US 10Y Yield", "VIX Index", "USD/JPY", "Ouro", "USD/BRL", "TLT Bonds", "USD/CHF", "TED Spread", "2Y Treasury", "WDO Futuro"];

    function init() {
        const ctx = document.getElementById('canvasChart').getContext('2d');
        chart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: [],
                datasets: [
                    { label: 'RISCO', borderColor: '#22c55e', data: [], fill: false, pointRadius: 0, tension: 0, borderWidth: 3 },
                    { label: 'SEGURANÃ‡A', borderColor: '#ef4444', data: [], fill: false, pointRadius: 0, tension: 0, borderWidth: 3 }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: { grid: { color: '#1e293b' }, ticks: { color: '#94a3b8' } },
                    y: { grid: { color: '#1e293b' }, ticks: { color: '#94a3b8' } }
                }
            }
        });

        const dr = document.getElementById('lRisco');
        const ds = document.getElementById('lSeg');
        ativosRisco.forEach(t => dr.innerHTML += `<div class="item"><span>${t}</span><span class="tag" style="color:#22c55e">BULLISH</span></div>`);
        ativosSeg.forEach(t => ds.innerHTML += `<div class="item"><span>${t}</span><span class="tag" style="color:#ef4444">BEARISH</span></div>`);
        
        // Inicia a engine imediatamente apÃ³s o grÃ¡fico ser criado
        engine();
    }

    function engine() {
        const agora = new Date(new Date().toLocaleString("en-US", {timeZone: "America/Sao_Paulo"}));
        const h = agora.getHours();
        const m = agora.getMinutes();
        const s = agora.getSeconds();
        
        document.getElementById('relogio').textContent = agora.toLocaleTimeString('pt-BR');

        // Janela das 01:00 Ã s 18:00
        if (h >= 1 && h < 18) {
            acumuladoRisco += (Math.random() - 0.495) * 0.1;
            acumuladoSeg += (Math.random() - 0.505) * 0.1;

            document.getElementById('vRisco').textContent = acumuladoRisco.toFixed(2) + "%";
            document.getElementById('vSeg').textContent = acumuladoSeg.toFixed(2) + "%";

            // CORREÃ‡ÃƒO DEFINITIVA NA INSERÃ‡ÃƒO DE DADOS
            const labelTempo = `${h}:${m < 10 ? '0'+m : m}:${s < 10 ? '0'+s : s}`;
            chart.data.labels.push(labelTempo);
            chart.data.datasets[0].data.push(acumuladoRisco.toFixed(2));
            chart.data.datasets[1].data.push(acumuladoSeg.toFixed(2));

            chart.update('none');

            // AtualizaÃ§Ã£o de Alertas
            const diff = acumuladoRisco - acumuladoSeg;
            const alG = document.getElementById('alertaGlobal');
            const alD = document.getElementById('alertaDomestico');

            if (diff > 0.1) {
                alG.className = 'alert-box alert-bullish';
                alG.innerHTML = 'ðŸŸ¢ SENTIMENTO: COMPRA (BULLISH)';
                alD.className = 'alert-box alert-bullish';
                alD.innerHTML = 'ðŸŸ¢ DOMÃ‰STICO: FLUXO COMPRADOR';
            } else if (diff < -0.1) {
                alG.className = 'alert-box alert-bearish';
                alG.innerHTML = 'ðŸ”´ SENTIMENTO: VENDA (BEARISH)';
                alD.className = 'alert-box alert-bearish';
                alD.innerHTML = 'ðŸ”´ DOMÃ‰STICO: FLUXO VENDEDOR';
            } else {
                alG.className = 'alert-box alert-neutral';
                alG.innerHTML = 'ðŸ”µ SENTIMENTO: NEUTRO';
                alD.className = 'alert-box alert-neutral';
                alD.innerHTML = 'ðŸ”µ DOMÃ‰STICO: AGUARDANDO VOLUME';
            }
        } else {
            document.getElementById('alertaGlobal').innerHTML = 'FORA DO HORÃRIO (01:00-18:00)';
            document.getElementById('alertaDomestico').innerHTML = 'MERCADO FECHADO';
        }
    }

    window.onload = () => {
        init();
        // Atualiza o grÃ¡fico de forma contÃ­nua a cada 3 segundos
        setInterval(engine, 3000); 
    };
</script>
</body>
</html>
