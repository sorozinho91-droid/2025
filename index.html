<!DOCTYPE html>
<html lang="pt-PT">
<head>
    <meta charset="UTF-8">
    <title>Terminal de Decis√£o - Est√°vel</title>
    <!-- Tentativa 1: Link CDNJS (Altamente est√°vel) -->
    <script src="https://cdnjs.cloudflare.com"></script>
    <style>
        :root { --fundo: #080a0c; --card: #12161c; --verde: #00ff88; --vermelho: #ff3b5c; --texto: #ffffff; }
        body { font-family: 'Inter', sans-serif; background: var(--fundo); color: var(--texto); margin: 0; padding: 15px; }
        .container { max-width: 900px; margin: auto; }
        .header { display: flex; justify-content: space-between; border-bottom: 1px solid #2d333b; padding-bottom: 10px; }
        .status-dot { width: 10px; height: 10px; border-radius: 50%; display: inline-block; background: #555; }
        .main-grid { display: grid; grid-template-columns: 1fr 2fr; gap: 15px; margin-top: 20px; }
        .card { background: var(--card); border-radius: 12px; padding: 20px; border: 1px solid #2d333b; text-align: center; }
        .sinal-grande { font-size: 2.5rem; font-weight: 900; margin: 10px 0; }
        .chart-wrap { height: 250px; position: relative; width: 100%; }
        .aviso-erro { color: var(--vermelho); font-weight: bold; padding: 20px; text-align: center; display: none; }
    </style>
</head>
<body>

<div id="erro-msg" class="aviso-erro">‚ö†Ô∏è ERRO: O navegador bloqueou o motor de gr√°ficos. Desative o AdBlock e recarregue.</div>

<div class="container" id="conteudo">
    <div class="header">
        <h2 style="margin:0; font-size: 1.2rem;">üìä MACRO RADAR</h2>
        <div><span id="ponto" class="status-dot"></span> <small id="msg">A ligar...</small></div>
    </div>

    <div class="main-grid">
        <div class="card">
            <div style="color: #8b949e; font-size: 0.7rem; text-transform: uppercase;">Decis√£o</div>
            <div id="sinal" class="sinal-grande">---</div>
            <div style="font-size: 1.2rem; color: #8b949e;">For√ßa: <span id="valor">0</span>%</div>
        </div>

        <div class="card">
            <div style="text-align: left; color: #8b949e; font-size: 0.7rem; margin-bottom: 10px;">FLUXO DE TEND√äNCIA</div>
            <div class="chart-wrap">
                <canvas id="grafico"></canvas>
            </div>
        </div>
    </div>
</div>

<script>
    window.onload = function() {
        const ponto = document.getElementById('ponto');
        const msg = document.getElementById('msg');

        if (typeof Chart === 'undefined') {
            document.getElementById('erro-msg').style.display = 'block';
            document.getElementById('conteudo').style.opacity = '0.3';
            ponto.style.background = 'var(--vermelho)';
            msg.innerText = "Falha no motor";
            return;
        }

        ponto.style.background = 'var(--verde)';
        msg.innerText = "SISTEMA ATIVO";

        const ctx = document.getElementById('grafico').getContext('2d');
        const chart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: Array(20).fill(''),
                datasets: [{
                    data: Array(20).fill(50),
                    borderColor: '#00ff88',
                    backgroundColor: 'rgba(0, 255, 136, 0.1)',
                    fill: true, tension: 0.4, pointRadius: 0
                }]
            },
            options: { responsive: true, maintainAspectRatio: false, scales: { y: { min: 0, max: 100, grid: { color: '#2d333b' } }, x: { display: false } }, plugins: { legend: { display: false } } }
        });

        setInterval(() => {
            const val = Math.floor(Math.random() * 101);
            const sinal = document.getElementById('sinal');
            
            if (val >= 70) {
                sinal.innerText = "COMPRA";
                sinal.style.color = "var(--verde)";
            } else if (val <= 30) {
                sinal.innerText = "VENDA";
                sinal.style.color = "var(--vermelho)";
            } else {
                sinal.innerText = "NEUTRO";
                sinal.style.color = "#8b949e";
            }

            document.getElementById('valor').innerText = val;
            chart.data.datasets[0].data.push(val);
            chart.data.datasets[0].data.shift();
            chart.data.datasets[0].borderColor = sinal.style.color;
            chart.update('none');
        }, 2500);
    };
</script>
</body>
</html>
