<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>DireÃ§Ã£o do Mercado â€“ Risco x SeguranÃ§a</title>

<script src="https://unpkg.com/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>

<style>
    body {
        background: #0f0f0f;
        color: #eee;
        font-family: Arial, sans-serif;
        padding: 20px;
        margin: 0;
    }
    #chart {
        width: 100%;
        height: 500px;
    }
</style>
</head>

<body>

<h2>ðŸ“ˆ DireÃ§Ã£o do Mercado â€“ Risco x SeguranÃ§a</h2>
<div id="chart"></div>

<script>
/* â”€â”€â”€â”€â”€ Criar grÃ¡fico â”€â”€â”€â”€â”€ */
const chart = LightweightCharts.createChart(document.getElementById('chart'), {
    layout: {
        background: { color: '#0f0f0f' },
        textColor: '#bbb',
    },
    grid: {
        vertLines: { color: '#222' },
        horzLines: { color: '#222' },
    },
    timeScale: {
        timeVisible: true,
        secondsVisible: false,
    }
});

/* â”€â”€â”€â”€â”€ Linhas â”€â”€â”€â”€â”€ */
const riskSeries = chart.addLineSeries({
    color: '#00ff88',
    lineWidth: 3,
    title: 'Risco (Risk-On)'
});

const safetySeries = chart.addLineSeries({
    color: '#ff4444',
    lineWidth: 3,
    title: 'SeguranÃ§a (Risk-Off)'
});

/* â”€â”€â”€â”€â”€ SimulaÃ§Ã£o (substitua por dados reais depois) â”€â”€â”€â”€â”€ */
let time = Math.floor(Date.now() / 1000);
let risk = 100;
let safety = 100;

function update() {
    risk *= 1 + (Math.random() - 0.5) * 0.002;
    safety *= 1 + (Math.random() - 0.5) * 0.001;

    riskSeries.update({ time: time, value: risk });
    safetySeries.update({ time: time, value: safety });

    time += 60;
}

/* â”€â”€â”€â”€â”€ HistÃ³rico de 1 dia (~390 min) â”€â”€â”€â”€â”€ */
for (let i = 0; i < 390; i++) {
    update();
}

/* â”€â”€â”€â”€â”€ Atualiza a cada 60s â”€â”€â”€â”€â”€ */
setInterval(update, 60000);
</script>

</body>
</html>
