<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GPS Market Sentiment PRO - 2026</title>
    <script src="https://cdn.jsdelivr.net"></script>
    <style>
        :root {
            --bg: #020617;
            --card: #0f172a;
            --risk: #22c55e;
            --safety: #ef4444;
            --text: #f8fafc;
            --border: #1e293b;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Consolas', monospace; background: var(--bg); color: var(--text); padding: 15px; }
        .container { max-width: 1600px; margin: 0 auto; }
        
        .header { display: flex; justify-content: space-between; align-items: center; background: var(--card); padding: 15px 25px; border-radius: 8px; margin-bottom: 15px; border: 1px solid var(--border); }
        #relogio { font-size: 2.2rem; font-weight: bold; color: #3b82f6; }

        .top-stats { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px; }
        .stat-card { background: var(--card); padding: 25px; border-radius: 8px; text-align: center; border-bottom: 5px solid #334155; }
        .stat-card.risk { border-color: var(--risk); }
        .stat-card.safety { border-color: var(--safety); }
        .val { font-size: 3rem; font-weight: 800; display: block; }

        /* Estilo dos novos alertas */
        .alerts-container { margin-bottom: 15px; display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .alert-box { padding: 15px; border-radius: 8px; font-weight: bold; }
        .alert-bullish { background: rgba(34, 197, 94, 0.2); color: var(--risk); border: 1px solid var(--risk); }
        .alert-bearish { background: rgba(239, 68, 68, 0.2); color: var(--safety); border: 1px solid var(--safety); }
        .alert-neutral { background: rgba(59, 130, 246, 0.2); color: #3b82f6; border: 1px solid #3b82f6; }


        .chart-box { background: var(--card); padding: 20px; border-radius: 8px; height: 500px; margin-bottom: 15px; border: 1px solid var(--border); }
        
        .assets-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 15px; }
        .asset-list { background: var(--card); padding: 20px; border-radius: 8px; height: 400px; overflow-y: auto; border: 1px solid var(--border); }
        .item { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #1e293b; font-size: 0.85rem; }
        .tag { font-weight: bold; padding: 2px 8px; border-radius: 4px; font-size: 0.7rem; }
        .t-risk { color: var(--risk); background: rgba(34, 197, 94, 0.1); }
        .t-safety { color: var(--safety); background: rgba(239, 68, 68, 0.1); }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <div>
            <h1 style="font-size: 1.4rem; color: #94a3b8; letter-spacing: 1px;">GPS SENTIMENT GLOBAL v2026</h1>
            <p>Monitoramento Intraday (Janela: 01:00h - 18:00h)</p>
        </div>
        <div id="relogio">00:00:00</div>
    </div>

    <!-- Container dos Novos Alertas -->
    <div class="alerts-container">
        <div class="alert-box alert-neutral" id="alertaGlobal">Aguardando dados de Sentimento Global...</div>
        <div class="alert-box alert-neutral" id="alertaDomestico">Aguardando dados de Sentimento DomÃ©stico...</div>
    </div>

    <div class="top-stats">
        <div class="stat-card risk">
            <span style="color: var(--risk); font-weight: bold;">CUMULATIVO RISCO (WIN â–²)</span>
            <span class="val" id="vRisco">0.00%</span>
        </div>
        <div class="stat-card safety">
            <span style="color: var(--safety); font-weight: bold;">CUMULATIVO SEGURANÃ‡A (WIN â–¼)</span>
            <span class="val" id="vSeg">0.00%</span>
        </div>
    </div>

    <div class="chart-box">
        <canvas id="canvasChart"></canvas>
    </div>

    <div class="assets-grid">
        <div class="asset-list">
            <h3 style="color: var(--risk); border-bottom: 2px solid var(--risk); padding-bottom: 10px; margin-bottom: 10px;">ðŸŸ¢ ATIVOS DE RISCO (COMPRA NO WIN)</h3>
            <div id="lRisco"></div>
        </div>
        <div class="asset-list">
            <h3 style="color: var(--safety); border-bottom: 2px solid var(--safety); padding-bottom: 10px; margin-bottom: 10px;">ðŸ”´ ATIVOS DE SEGURANÃ‡A (VENDA NO WIN)</h3>
            <div id="lSeg"></div>
        </div>
    </div>
</div>

<script>
    let chart;
    let acumuladoRisco = 0;
    let acumuladoSeg = 0;
    // Novo: Sentimento DomÃ©stico Simulado
    let sentimentoDomestico = 0; 

    const ativosRisco = ["S&P 500 Fut", "Nasdaq Fut", "EWZ (Brasil ETF NY)", "VALE3 ADR", "PETR4 ADR", "MinÃ©rio de Ferro (Dalian)", "PetrÃ³leo Brent", "Cobre Futuros", "Bitcoin", "DAX (Alemanha)", "EEM (Emergentes)", "Nikkei 225", "Ibovespa Vista", "Hang Seng (China)", "Ethereum"];
    const ativosSeg = ["DXY (Ãndice DÃ³lar)", "US 10Y Yield (Juros EUA)", "VIX (Ãndice do Medo)", "USD/JPY (Iene)", "Ouro (XAU/USD)", "USD/BRL (DÃ³lar)", "TLT (Bonds 20Y+)", "USD/CHF (Franco)", "TED Spread", "2Y Treasury Yield", "DÃ³lar Futuro (WDO)"];

    function init() {
        const ctx = document.getElementById('canvasChart').getContext('2d');
        chart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: [],
                datasets: [
                    { label: 'SENTIMENTO DE RISCO', borderColor: '#22c55e', data: [], fill: false, pointRadius: 0, tension: 0, borderWidth: 3 },
                    { label: 'SENTIMENTO DE SEGURANÃ‡A', borderColor: '#ef4444', data: [], fill: false, pointRadius: 0, tension: 0, borderWidth: 3 }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: { grid: { color: '#1e293b' }, ticks: { color: '#94a3b8' } },
                    y: { grid: { color: '#1e293b' }, ticks: { color: '#94a3b8' } }
                },
                plugins: { legend: { labels: { color: '#fff', font: { size: 14 } } } }
            }
        });

        const dr = document.getElementById('lRisco');
        const ds = document.getElementById('lSeg');
        ativosRisco.forEach(t => dr.innerHTML += `<div class="item"><span>${t}</span><span class="tag t-risk">BULLISH</span></div>`);
        ativosSeg.forEach(t => ds.innerHTML += `<div class="item"><span>${t}</span><span class="tag t-safety">BEARISH</span></div>`);
    }

    // NOVA FUNÃ‡ÃƒO PARA ATUALIZAR OS TEXTOS DE ALERTA
    function atualizarAlertas() {
        const diff = acumuladoRisco - acumuladoSeg;
        const alertaGlobalEl = document.getElementById('alertaGlobal');
        const alertaDomesticoEl = document.getElementById('alertaDomestico');

        // LÃ³gica Sentimento Global
        if (diff > 0.5) {
            alertaGlobalEl.className = 'alert-box alert-bullish';
            alertaGlobalEl.textContent = 'ðŸŸ¢ ALERTA GLOBAL: Forte Apetite por Risco (BUY WIN)';
        } else if (diff < -0.5) {
            alertaGlobalEl.className = 'alert-box alert-bearish';
            alertaGlobalEl.textContent = 'ðŸ”´ ALERTA GLOBAL: Forte AversÃ£o ao Risco (SELL WIN)';
        } else {
            alertaGlobalEl.className = 'alert-box alert-neutral';
            alertaGlobalEl.textContent = 'ðŸ”µ ALERTA GLOBAL: Sentimento Neutro/Misto. Cautela.';
        }

        // LÃ³gica Sentimento DomÃ©stico Simulado (Valor aleatÃ³rio apenas para demonstraÃ§Ã£o)
        sentimentoDomestico = Math.random() - 0.5;
        if (sentimentoDomestico > 0.1) {
            alertaDomesticoEl.className = 'alert-box alert-bullish';
            alertaDomesticoEl.textContent = 'ðŸŸ¢ ALERTA DOMÃ‰STICO: Fluxo Interno Positivo (ReforÃ§a Compra)';
        } else if (sentimentoDomestico < -0.1) {
            alertaDomesticoEl.className = 'alert-box alert-bearish';
            alertaDomesticoEl.textContent = 'ðŸ”´ ALERTA DOMÃ‰STICO: Fluxo Interno Negativo (ReforÃ§a Venda)';
        } else {
            alertaDomesticoEl.className = 'alert-box alert-neutral';
            alertaDomesticoEl.textContent = 'ðŸ”µ ALERTA DOMÃ‰STICO: Expectativa Local Neutra.';
        }
    }


    function engine() {
        const agora = new Date(new Date().toLocaleString("en-US", {timeZone: "America/Sao_Paulo"}));
        const h = agora.getHours();
        const m = agora.getMinutes();
        const s = agora.getSeconds();
        
        document.getElementById('relogio').textContent = agora.toLocaleTimeString('pt-BR');

        // Janela de OperaÃ§Ã£o: 01:00 Ã s 18:00
        if (h >= 1 && h < 18) {
            acumuladoRisco += (Math.random() - 0.496) * 0.15;
            acumuladoSeg += (Math.random() - 0.504) * 0.15;

            document.getElementById('vRisco').textContent = acumuladoRisco.toFixed(2) + "%";
            document.getElementById('vSeg').textContent = acumuladoSeg.toFixed(2) + "%";

            // Adiciona dados ao grÃ¡fico
            const labelTempo = `${h}:${m < 10 ? '0'+m : m}:${s < 10 ? '0'+s : s}`;
            chart.data.labels.push(labelTempo);
            chart.data.datasets.data.push(acumuladoRisco.toFixed(2));
            chart.data.datasets.data.push(acumuladoSeg.toFixed(2));

            chart.update('none'); 
            
            // Chama a funÃ§Ã£o de alerta a cada atualizaÃ§Ã£o
            atualizarAlertas();
        } else {
            document.getElementById('alertaGlobal').className = 'alert-box alert-neutral';
            document.getElementById('alertaGlobal').textContent = 'MERCADO FECHADO: AnÃ¡lise de Fechamento.';
            document.getElementById('alertaDomestico').className = 'alert-box alert-neutral';
            document.getElementById('alertaDomestico').textContent = 'MERCADO FECHADO: AnÃ¡lise de Fechamento.';
        }
    }

    window.onload = () => {
        init();
        setInterval(engine, 3000); 
        engine();
    };
</script>

</body>
</html>
