<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Tendência Intraday do Dólar</title>
<script src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js"></script>

<style>
body {
  background:#0e0e0e;
  color:#e0e0e0;
  font-family: Arial, Helvetica, sans-serif;
}
#grafico {
  width:100%;
  height:520px;
  background:#111;
  border-radius:6px;
}
</style>
</head>

<body>

<h2>Tendência Intraday do Dólar</h2>
<p>Atualização automática a cada 60 segundos</p>
<div id="grafico"></div>

<script>
const API_URL = "https://SEU-BACKEND-AQUI/api/score";

const chart = echarts.init(document.getElementById("grafico"));

function atualizar() {
  fetch(API_URL)
    .then(r => r.json())
    .then(d => {
      chart.setOption({
        backgroundColor:"#111",
        xAxis:{
          type:"category",
          data:d.historico.map(x=>x.hora),
          axisLabel:{color:"#aaa"}
        },
        yAxis:{
          min:-1,
          max:1,
          axisLabel:{color:"#aaa"}
        },
        visualMap:{
          show:false,
          pieces:[
            {gt:d.zona_alta, color:"#00c853"},
            {gte:d.zona_baixa, lte:d.zona_alta, color:"#9e9e9e"},
            {lt:d.zona_baixa, color:"#d50000"}
          ]
        },
        series:[{
          type:"line",
          smooth:true,
          data:d.historico.map(x=>x.score),
          symbolSize:6
        }]
      });
    });
}

atualizar();
setInterval(atualizar, 60000);
</script>

</body>
</html>
