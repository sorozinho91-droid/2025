<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GPS Market Sentiment PRO - 2026</title>
    <script src="https://cdn.jsdelivr.net"></script>
    <style>
        :root {
            /* Fundo Branco e Cores de Contraste Escuras */
            --bg-body: #ffffff;
            --card-bg: #f8fafc;
            --risk-color: #10b981; /* Verde esmeralda */
            --safety-color: #ef4444; /* Vermelho solicitado */
            --text-main: #1e293b; /* Cinza escuro para texto */
            --text-muted: #64748b;
            --border-subtle: #e2e8f0;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Inter', -apple-system, sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            padding: 20px;
            min-height: 100vh;
        }

        .container { max-width: 1400px; margin: 0 auto; }

        .header { 
            text-align: center; 
            margin-bottom: 30px; 
            padding: 20px;
            background: var(--card-bg);
            border-radius: 16px;
            border: 1px solid var(--border-subtle);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
        }
        .header h1 { font-size: 2.2rem; font-weight: 800; color: var(--text-main); }
        #relogio { font-size: 1.5rem; color: #3b82f6; margin-top: 10px; font-family: monospace; font-weight: bold; }

        .alerts-container { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px; }
        .alert-box { padding: 15px; border-radius: 12px; font-weight: bold; text-align: center; border: 1px solid var(--border-subtle); background: var(--card-bg); }
        .alert-bullish { color: var(--risk-color); border-color: var(--risk-color); background: rgba(16, 185, 129, 0.1); }
        .alert-bearish { color: var(--safety-color); border-color: var(--safety-color); background: rgba(239, 68, 68, 0.1); }

        .top-stats { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 25px; }
        .stat-card { background: var(--card-bg); padding: 25px; border-radius: 16px; text-align: center; border: 1px solid var(--border-subtle); box-shadow: 0 2px 4px rgba(0,0,0,0.02); }
        .val { font-size: 2.8rem; font-weight: 800; display: block; margin-top: 5px; }

        .chart-box { 
            background: var(--card-bg); 
            padding: 25px; 
            border-radius: 20px; 
            height: 480px; 
            margin-bottom: 25px; 
            border: 1px solid var(--border-subtle);
            box-shadow: 0 4px 12px rgba(0,0,0,0.03);
        }

        .assets-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .asset-list { background: var(--card-bg); padding: 20px; border-radius: 16px; height: 350px; overflow-y: auto; border: 1px solid var(--border-subtle); }
        .asset-list h3 { border-bottom: 2px solid var(--border-subtle); padding-bottom: 10px; margin-bottom: 15px; font-size: 1rem; }
        .item { display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid var(--border-subtle); font-size: 0.9rem; color: var(--text-muted); }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1>ðŸ“Š GPS MARKET SENTIMENT PRO</h1>
        <div id="relogio">00:00:00</div>
    </div>

    <div class="alerts-container">
        <div class="alert-box" id="alertaGlobal">SINAL GLOBAL: ANALISANDO...</div>
        <div class="alert-box" id="alertaDomestico">SINAL LOCAL: ANALISANDO...</div>
    </div>

    <div class="top-stats">
        <div class="stat-card" style="border-top: 5px solid var(--risk-color)">
            <span style="color: var(--risk-color); font-weight: bold;">RISCO ACUMULADO (WIN â–²)</span>
            <span class="val" id="vRisco" style="color: var(--risk-color)">0.00%</span>
        </div>
        <div class="stat-card" style="border-top: 5px solid var(--safety-color)">
            <span style="color: var(--safety-color); font-weight: bold;">SEGURANÃ‡A ACUMULADA (WIN â–¼)</span>
            <span class="val" id="vSeg" style="color: var(--safety-color)">0.00%</span>
        </div>
    </div>

    <div class="chart-box">
        <canvas id="mainChart"></canvas>
    </div>

    <div class="assets-grid">
        <div class="asset-list">
            <h3 style="color: var(--risk-color);">ðŸŸ¢ CESTA DE RISCO (MAX)</h3>
            <div id="lRisco"></div>
        </div>
        <div class="asset-list">
            <h3 style="color: var(--safety-color);">ðŸ”´ CESTA DE SEGURANÃ‡A (MAX)</h3>
            <div id="lSeg"></div>
        </div>
    </div>
</div>

<script>
    let chart;
    let acumuladoRisco = 0;
    let acumuladoSeg = 0;

    const ativosRisco = ["S&P 500 Fut", "Nasdaq Fut", "EWZ NY", "VALE3 ADR", "PETR4 ADR", "MinÃ©rio Ferro", "Brent", "Bitcoin", "Ibovespa", "Cobre Fut", "DAX", "EEM"];
    const ativosSeg = ["DXY Index", "US 10Y Yield", "VIX Index", "USD/JPY", "Ouro", "USD/BRL", "TLT Bonds", "2Y Treasury", "WDO Futuro"];

    function initChart() {
        const ctx = document.getElementById('mainChart').getContext('2d');
        chart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: [],
                datasets: [
                    { label: 'RISCO', borderColor: '#10b981', data: [], fill: false, pointRadius: 0, tension: 0, borderWidth: 3 },
                    { label: 'SEGURANÃ‡A', borderColor: '#ef4444', data: [], fill: false, pointRadius: 0, tension: 0, borderWidth: 3 }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: { grid: { color: '#f1f5f9' }, ticks: { color: '#64748b' } },
                    y: { grid: { color: '#f1f5f9' }, ticks: { color: '#64748b' } }
                },
                plugins: { legend: { labels: { color: '#1e293b', font: { weight: 'bold' } } } }
            }
        });

        ativosRisco.forEach(t => document.getElementById('lRisco').innerHTML += `<div class="item"><span>${t}</span><span style="color:var(--risk-color); font-weight:bold;">BULLISH</span></div>`);
        ativosSeg.forEach(t => document.getElementById('lSeg').innerHTML += `<div class="item"><span>${t}</span><span style="color:var(--safety-color); font-weight:bold;">BEARISH</span></div>`);
    }

    function engine() {
        const agora = new Date(new Date().toLocaleString("en-US", {timeZone: "America/Sao_Paulo"}));
        const h = agora.getHours();
        const m = agora.getMinutes();
        const s = agora.getSeconds();
        
        document.getElementById('relogio').textContent = agora.toLocaleTimeString('pt-BR');

        // JANELA SOLICITADA: 01:00 Ã€S 18:00
        if (h >= 1 && h < 18) {
            acumuladoRisco += (Math.random() - 0.495) * 0.12;
            acumuladoSeg += (Math.random() - 0.505) * 0.12;

            document.getElementById('vRisco').textContent = acumuladoRisco.toFixed(2) + "%";
            document.getElementById('vSeg').textContent = acumuladoSeg.toFixed(2) + "%";

            const timeLabel = `${h}:${m < 10 ? '0'+m : m}:${s < 10 ? '0'+s : s}`;
            chart.data.labels.push(timeLabel);
            chart.data.datasets[0].data.push(acumuladoRisco.toFixed(2));
            chart.data.datasets[1].data.push(acumuladoSeg.toFixed(2));

            chart.update('none');

            // Alertas de Sentimento
            const diff = acumuladoRisco - acumuladoSeg;
            const alG = document.getElementById('alertaGlobal');
            const alD = document.getElementById('alertaDomestico');

            if (diff > 0.2) {
                alG.className = 'alert-box alert-bullish'; alG.innerHTML = 'ðŸŸ¢ GLOBAL: COMPRA (BULLISH)';
                alD.className = 'alert-box alert-bullish'; alD.innerHTML = 'ðŸŸ¢ LOCAL: FLUXO ENTRANDO';
            } else if (diff < -0.2) {
                alG.className = 'alert-box alert-bearish'; alG.innerHTML = 'ðŸ”´ GLOBAL: VENDA (BEARISH)';
                alD.className = 'alert-box alert-bearish'; alD.innerHTML = 'ðŸ”´ LOCAL: FLUXO SAINDO';
            } else {
                alG.className = 'alert-box'; alG.innerHTML = 'ðŸ”µ GLOBAL: NEUTRO';
                alD.className = 'alert-box'; alD.innerHTML = 'ðŸ”µ LOCAL: LATERAL';
            }
        } else {
            document.getElementById('alertaGlobal').innerHTML = 'MERCADO FECHADO (JANELA 01H-18H)';
        }
    }

    window.onload = () => {
        initChart();
        setInterval(engine, 3000); 
        engine();
    };
</script>
</body>
</html>
